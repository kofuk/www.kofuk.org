---
title: "WindowsでCMakeのプロジェクトをビルドする"
date: 2020-05-22T12:54:04+09:00

tags:
  - development
  - Windows
---

Visual Studio 入れて試してみたら簡単だった（今まで MSYS2 入れて UNIX Makefile を生成してビルドしていた）．
基本的には root の CMakeLists.txt があるディレクトリを Visual Studio の「フォルダを開く」的な
メニュー（プロジェクトを開くに非ず）から開けばいい感じに cmake を実行するところまでやってくれる．

ただちょっと困っているのが pkg-config がないことだ．
もっとも Windows にはシステムに1つライブラリを入れて多数のアプリから使うという
習慣がなさそうに思われるので，システムに入っているという状況が普通ないというのは理解できるのだが．
しかし依存関係しているライブラリを全部 CMake でダウンロードしてビルドして，というのは流石に
面倒臭すぎる．どうにかならないものだろうか．

MSYS2 でビルドする場合だと，（あの空間は \*nix 的な設計がされているので）pkg-config
で依存するライブラリのインクルードパスやライブラリの設定ができた．
そして，ldd とかで依存しているライブラリを調べてそれらと一緒に他の環境に持っていけば
問題なく動作させることができた（というのも Windows はライブラリを探すときに最初にその executable
があるパスを探すので）．

