---
title: "ImageMagick の処理を高速化する"
date: 2019-07-19T10:00:00+09:00

tags:
  - tech
  - shell
  - imagemagick
---
数日前からシェル芸で画像を出力するのが楽しくて毎日のようにやっているのだが、画像の処理は思った以上に重く、よくタイムアウトする。
しかも強引なやり方をしているのでとてつもない長さのワンライナーが完成してウンザリな感じになる。

# `mpr:`

`mpr:` は ImageMagick 出力を一時的にメモリに置いておけるっぽい。一回一回ファイルに結果を書き出したり、パイプで ImageMagick
をつなげたりせずに出力結果を利用することができるので、起動のオーバーヘッドやファイル I/O のオーバーヘッドを軽減できる。
これはファイルとして使える (ファイルみたいに入力や出力に使える。)

# `+delete`

これまでの引数をなかったことにする。このとき、 `mpr:` などの中身は消えない。

# ジェネレート系

`xc:[色]` しか知らなかったが、いろいろあるっぽい。使いどころがあるかは不明だけど覚えておけばいつか使えるかも: http://www.imagemagick.org/Usage/canvas/



# 結論

- ほとんどは Manual Page にちゃんと書いてある。Manual Page はちゃんと読もう!
- 公式っぽいドキュメントがかなり充実してるっぽいので見るといいことがありそう
  (かなり量が多いので読みきれるかは不明) http://www.imagemagick.org/Usage/


